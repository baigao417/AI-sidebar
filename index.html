<!-- sidebar.html -->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <title></title>
    <link rel="stylesheet" href="css/panel.css" />
    <link rel="stylesheet" href="css/slash.css" />
    <link rel="stylesheet" href="css/history-panel.css" />
    <link rel="stylesheet" href="css/prompt-manager.css" />
  </head>
  <body>
    <!-- Â∑¶‰æßÂûÇÁõ¥ÂØºËà™Ê†è -->
    <nav id="provider-tabs">
      <!-- ÂÖ≥Èó≠ÊåâÈíÆ - Âõ∫ÂÆöÂú®È°∂ÈÉ® -->
      <button id="closeBtn" type="button" title="ÈÄÄÂá∫Â∫îÁî®" class="sidebar-close-btn">‚úï</button>
      <!-- Provider tabs will be dynamically generated here -->
    </nav>

    <!-- Âè≥‰æß‰∏ªÂÜÖÂÆπÂå∫ -->
    <main id="main-content">
      <!-- ÊãñÂä®Âå∫Âüü - Áî®‰∫éÁßªÂä®Á™óÂè£ -->
      <div class="drag-zone"></div>
      <div class="hover-zone"></div>
      <div class="toolbar">
        <button id="starBtn" type="button" title="Star/Unstar current page">‚òÜ</button>
        <button id="backBtn" type="button" title="Return (Esc)" style="display:none;">Return</button>
        <button id="alignBtn" type="button" title="Send to multiple AIs (Ctrl+Shift+A)" style="display:none;">Align</button>
        <div class="toolbar-spacer" title="ÊãñÂä®Á™óÂè£"></div>
        <button id="openInTab" type="button" title="Open in Chrome (Ctrl+O)">Open in Tab</button>
        <button id="favoritesBtn" type="button" title="View favorites">Favorites</button>
        <button id="searchBtn" type="button" title="Search in page">Search</button>
        <button id="promptBtn" type="button" title="Open Prompt Picker (/)">Prompt</button>
        <button id="historyBtn" type="button" title="View saved links">History</button>
        <button id="settingsBtn" type="button" title="Settings">Settings</button>
        <button id="toggleTopBtn" type="button" title="Window Priority: Normal">üîù</button>
      </div>
      <!-- Settings modal -->
      <div id="settingsModal" class="settings-modal" style="display:none;"></div>
      <!-- Align modal -->
      <div id="alignModal" class="align-modal" style="display:none;"></div>
      <!-- History Panel -->
      <div id="historyPanel" class="history-panel-overlay">
        <div class="history-header">
          <h2>History</h2>
          <button class="history-close-btn" title="Close">√ó</button>
        </div>
        <div class="history-content" id="historyList">
          <!-- Items will be injected here -->
        </div>
      </div>
      
      <!-- Prompt Manager Panel -->
      <div id="promptManagerPanel" class="prompt-manager-overlay" style="display:none;">
        <div class="prompt-header">
          <div class="prompt-header-top">
            <h2>Prompt Manager</h2>
            <button class="prompt-close-btn" title="Close">√ó</button>
          </div>
          <div class="prompt-toolbar">
            <div class="prompt-mode-group">
              <button id="promptModeBtn" class="pm-btn">Mode <span id="currentModeLabel">All</span> ‚ñº</button>
              <div id="promptModeDropdown" class="pm-dropdown" style="display:none;">
                <div class="pm-dropdown-input-row">
                  <input type="text" id="newModeInput" placeholder="Mode name (‚â§10)" maxlength="10">
                  <button id="addModeBtn">Add</button>
                </div>
                <ul id="modeList"></ul>
              </div>
            </div>
            <button id="promptExportBtn" class="pm-btn">Export</button>
            <button id="promptImportBtn" class="pm-btn">Import</button>
          </div>
          <div class="prompt-search-row">
            <input type="text" id="promptSearchInput" placeholder="Search prompts...">
          </div>
        </div>
        <div class="prompt-content" id="promptList">
          <!-- Items injected here -->
        </div>
        <button id="addPromptFab" class="fab-btn" title="Add Prompt">+</button>
      </div>

      <!-- Edit Prompt Modal -->
      <div id="editPromptModal" class="modal-overlay" style="display:none;">
        <div class="modal-box">
          <h3>Edit Prompt(s)</h3>
          <div style="font-size:12px;color:#666;margin-bottom:8px;">
            Format: Title (1st line), Content (following lines). Separate multiple prompts with blank lines.
          </div>
          <textarea id="editPromptContent" placeholder="Title
Content...

Title 2
Content 2..." style="height:300px;"></textarea>
          <div class="modal-actions">
            <button id="cancelEditPrompt">Cancel</button>
            <button id="saveEditPrompt" class="primary-btn">Save</button>
          </div>
        </div>
      </div>
      <!-- Âú∞ÂùÄÊ†è - ‰ªÖÂú®ÂàÜÂ±èÊ®°Âºè‰∏ãÊòæÁ§∫ -->
      <div id="addressBar" class="address-bar" style="display:none;">
        <div class="address-bar-wrapper">
          <input type="text" id="addressInput" placeholder="ËæìÂÖ•ÁΩëÂùÄÊàñÊêúÁ¥¢ÂÜÖÂÆπ..." />
          <button id="tabLockRight" type="button" title="ÈîÅÂÆö Tab Âà∞Âè≥‰æß">Lock ‚ñ∂Ô∏é</button>
          <button id="addressGo" type="button" title="ÂâçÂæÄ">ÂâçÂæÄ</button>
        </div>
      </div>
      <!-- Á¨¨‰∏âÂ±èÂú∞ÂùÄÊ†è - ‰∏âÂàÜÂ±èÊó∂ÊòæÁ§∫ÔºåÂäüËÉΩ‰∏é‰∏≠Èó¥‰∏ÄËá¥ÔºàÊéßÂà∂Á¨¨‰∏âÂ±èÔºâ -->
      <div id="addressBarThird" class="address-bar" style="display:none;">
        <div class="address-bar-wrapper">
          <input type="text" id="addressInputThird" placeholder="Á¨¨‰∏âÂ±èÔºöËæìÂÖ•ÁΩëÂùÄÊàñÊêúÁ¥¢ÂÜÖÂÆπ..." />
          <button id="tabLockThird" type="button" title="ÈîÅÂÆö Tab Âà∞Á¨¨‰∏âÂ±è">Lock ‚ñ∂Ô∏é</button>
          <button id="addressGoThird" type="button" title="ÂâçÂæÄÁ¨¨‰∏âÂ±è">ÂâçÂæÄ</button>
        </div>
      </div>
      <div id="iframe"></div>
      <!-- Á¨¨‰∏âÂ±èÂÆπÂô® -->
      <div id="thirdScreen" style="display:none;"></div>
      <!-- ÂàÜÂ±èÂàÜÂâ≤Á∫øÊåáÁ§∫Âô® -->
      <div id="splitDivider" class="split-divider" style="display:none;"></div>
      <!-- Á¨¨‰∏âÂ±èÂàÜÂâ≤Á∫øÊåáÁ§∫Âô® -->
      <div id="thirdDivider" class="split-divider" style="display:none;"></div>
    </main>
    <!-- Electron ÈÄÇÈÖçÂô® - ÂøÖÈ°ªÂú®ÂÖ∂‰ªñËÑöÊú¨‰πãÂâçÂä†ËΩΩ -->
    <script src="electron-adapter.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/history-db.js"></script>
    <script src="js/prompt-db.js"></script>
    <script src="js/prompt-manager.js"></script>
    <script src="js/popup.js"></script>
  </body>
</html>
